Automatically claim free games from itch.io

## Install
```bash
pip install ItchClaim
```

## Usage

```bash
itchclaim --login <username> claim
```
This command logs in the user (asks for password if it's ran for the first time), refreshes the list of currently free games, and start claiming the unowned ones.

## Advanced Usage

### Logging in (via flags)
If you don't have access to an interactive shell, you can provide you password via flags too.

```bash
itchclaim --login <username> --password <password> --totp <2FA code or secret>
```

### Refresh Library
```bash
itchclaim --login <username> refresh_library
```
Allows you to refresh the locally stored list of owned games. Useful if you have claimed/purchased games since you have started using the script.

### Refresh sale cache

#### Download cached sales from CI (recommended)
```bash
itchclaim refresh_from_remote_cache [--url <url>]
```
ItchClaim collects new sales from itch.io every 6 hours and publishes them on GitHub. Using this method, sales don't need to be scraped by every user, greatly reducing the load on itch.io generated by the script. Also removes expired sales from disk. This command is automatically executed by the `claim` command.

#### Manually scrape itch.io
```bash
itchclaim refresh_sale_cache
```
Request details about every single itch.io sale since id 83500, and save the $0 ones to the disk.
This command was created for use on the CI, and is not recommended for general users.

### Download links
```bash
itchclaim [--login <username>] download_urls
```
Generate a download URL for a game. These links have an expiration date. If the game doesn't require claiming, this command can be run without logging in.
*Note: this command is unfinished and currently only works for games that are present in the local sale cache.*

### Generate HTML from cached sales
```bash
itchclaim generate_web > file.html
```
Generates a static HTML file containing a table of all the sales cached on the disk.
The JSON button tries to access files from `/ItchClaim/data/{id}.json`.
This command was created for use on the CI, and is not recommended for general users.


## FAQ

### Is this legal?
This tools is not affiliated with itch.io. Using it may not be allowed, and may result in your account getting suspended or banned. Use at your own risk.

### Can itch.io detect that I'm using this tool?
Yes. We explicitly let itch.io know that use the the requests were sent by this tool, using the `user-agent` header.
